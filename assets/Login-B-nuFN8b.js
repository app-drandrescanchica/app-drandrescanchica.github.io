import{u as y,b as f,s as b,r,c as a,o,a as t,d as p,e as h,w as k,f as g,v as _,g as j,h as w,t as S,i as B,j as C,S as V}from"./index-Dj7Rc_-9.js";import M from"./IconEye-DkPqY-m3.js";import T from"./IconEyeHide-BtVapmwy.js";const E={class:"h-full flex justify-between border-blue-500"},I={class:"w-full md:w-3/4 wrapper flex items-center justify-center"},A={class:"w-full flex-2/3 wrapper flex items-center justify-center"},D={class:"w-full max-w-md p-8 rounded-xl shadow-md border border-solid border-color-identity"},N={class:"relative"},U={class:"relative"},q={class:"relative"},H=["type"],L={class:"absolute top-0 right-0 mt-2 mr-4 cursor-pointer"},P={key:0,class:"flex items-center justify-center p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg",role:"alert"},R={class:"font-medium"},$={class:"grid justify-items-center"},z={key:0,type:"button",class:"mb-2 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:""},O={key:1,type:"submit",class:"mb-2 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},Q={__name:"Login",setup(F){const v=y(),d=f(),{isLoadingAuth:u}=b(f()),m=r(""),c=r("");r(!1);const n=r(""),s=r(!1),x=async()=>{u.value=!0;const l=await d.login({email:m.value,password:c.value});d.isAuthenticated&&await d.fetchUser(),setTimeout(async()=>{l.success?(V.fire({position:"center",icon:"success",title:l.message,showConfirmButton:!1,timer:2e3}),v.push({name:"home"})):(n.value=l.message,setTimeout(()=>{n.value=""},2e3)),u.value=!1},500)};return(l,e)=>(o(),a("main",null,[t("div",E,[e[11]||(e[11]=t("div",{class:"w-0 md:w-1/3 wrapper flex items-center justify-center"},null,-1)),t("div",I,[t("div",A,[t("div",D,[e[8]||(e[8]=t("img",{alt:"Vue logo",class:"w-full h-28",src:h},null,-1)),e[9]||(e[9]=t("br",null,null,-1)),e[10]||(e[10]=t("h2",{class:"text-2xl font-bold text-center text-identity"},"Sign in",-1)),t("form",{onSubmit:k(x,["prevent"]),class:"mt-8 space-y-6"},[t("div",N,[e[4]||(e[4]=t("label",{for:"email",class:"block text-sm font-medium text-identity"},"Email",-1)),g(t("input",{id:"email",name:"email","onUpdate:modelValue":e[0]||(e[0]=i=>m.value=i),type:"email",required:"",autocomplete:"on",class:"text-gray-900 mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[_,m.value]])]),t("div",U,[e[5]||(e[5]=t("label",{for:"password",class:"block text-sm font-medium text-identity"},"Password",-1)),t("div",q,[g(t("input",{id:"password",name:"password","onUpdate:modelValue":e[1]||(e[1]=i=>c.value=i),type:s.value?"text":"password",required:"",autocomplete:"on",class:"text-gray-900 mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm pr-10"},null,8,H),[[j,c.value]]),t("span",L,[s.value?(o(),w(T,{key:1,class:"text-gray-900 w-6 h-6 cursor-pointer",onClick:e[3]||(e[3]=i=>s.value=!s.value)})):(o(),w(M,{key:0,class:"text-gray-900 w-6 h-6 cursor-pointer",onClick:e[2]||(e[2]=i=>s.value=!s.value)}))])])]),n.value?(o(),a("div",P,[t("span",R,S(n.value),1)])):p("",!0),t("div",$,[B(u)?(o(),a("button",z,[...e[6]||(e[6]=[t("svg",{class:"animate-spin h-5 w-5 mr-3 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})],-1),C(" Iniciando Sesión... ",-1)])])):(o(),a("button",O," Iniciar Sesión ")),e[7]||(e[7]=t("div",{class:"text-sm"},[t("a",{href:"#",class:"font-medium text-indigo-600 hover:text-indigo-500"}," ¿Olvidaste tu contraseña? ")],-1))])],32),p("",!0)])])])])]))}};export{Q as default};
